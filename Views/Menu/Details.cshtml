@model MenuItem
@{
    ViewData["Title"] = Model.Name ?? "Details";
}
<link rel="stylesheet" href="~/css/Menu/menudetail.css" asp-append-version="true" />

<div class="details-wrapper">
    <!-- Back Navigation -->
    <div class="details-nav">
        <div class="nav-container">
            <a href="@Url.Action("Index", "Menu")" class="back-link">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M12 4L6 10L12 16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <span>Back to Menu</span>
            </a>
        </div>
    </div>

    <!-- Main Details Section -->
    <div class="details-container">
        <div class="details-card">
            <div class="details-grid">
                <!-- Image Section -->
                <div class="details-image-section">
                    <div class="image-wrapper">
                        @if (!string.IsNullOrWhiteSpace(Model.ImageUrl))
                        {
                            <img src="@Model.ImageUrl" alt="@Model.Name" class="dish-image" />
                            <div class="image-gradient"></div>
                        }
                        else
                        {
                            <div class="image-placeholder">
                                <svg width="120" height="120" viewBox="0 0 120 120" fill="none">
                                    <rect x="20" y="25" width="80" height="70" rx="6" stroke="currentColor" stroke-width="3"/>
                                    <circle cx="40" cy="45" r="8" fill="currentColor"/>
                                    <path d="M20 80L40 60L55 75L80 50L100 70" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <p>No Image Available</p>
                            </div>
                        }
                    </div>
                </div>

                <!-- Content Section -->
                <div class="details-content-section">
                    <div class="content-wrapper">
                        <!-- Category & Availability -->
                        <div class="item-badges">
                            @if (!string.IsNullOrWhiteSpace(Model.Category?.Name))
                            {
                                <span class="category-badge">
                                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                                        <rect x="2" y="2" width="4" height="4" rx="1" stroke="currentColor" stroke-width="1.5"/>
                                        <rect x="8" y="2" width="4" height="4" rx="1" stroke="currentColor" stroke-width="1.5"/>
                                        <rect x="2" y="8" width="4" height="4" rx="1" stroke="currentColor" stroke-width="1.5"/>
                                        <rect x="8" y="8" width="4" height="4" rx="1" stroke="currentColor" stroke-width="1.5"/>
                                    </svg>
                                    <span>@Model.Category.Name</span>
                                </span>
                            }
                            @if (Model.IsAvailable)
                            {
                                <span class="available-badge">
                                    <svg width="12" height="12" viewBox="0 0 12 12" fill="none">
                                        <circle cx="6" cy="6" r="5" fill="currentColor"/>
                                    </svg>
                                    <span>Available Now</span>
                                </span>
                            }
                        </div>

                        <!-- Title -->
                        <h1 class="dish-title">@Model.Name</h1>

                        <!-- Price -->
                        <div class="price-section">
                            <span class="price-label">Price</span>
                            <span class="price-value">$@Model.Price.ToString("F2")</span>
                        </div>

                        <!-- Divider -->
                        <div class="content-divider"></div>

                        <!-- Description -->
                        <div class="description-section">
                            <h3 class="section-title">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="2"/>
                                    <path d="M10 6V10L13 13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                About This Dish
                            </h3>
                            @if (!string.IsNullOrWhiteSpace(Model.Description))
                            {
                                <p class="description-text">@Model.Description</p>
                            }
                            else
                            {
                                <p class="description-empty">No description available for this item.</p>
                            }
                        </div>

                        <!-- Features -->
                        <div class="features-section">
                            <div class="feature-item">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <div>
                                    <strong>Fresh Ingredients</strong>
                                    <span>Sourced daily</span>
                                </div>
                            </div>
                            <div class="feature-item">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                    <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                <div>
                                    <strong>Made to Order</strong>
                                    <span>Prepared fresh</span>
                                </div>
                            </div>
                            <div class="feature-item">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M20 6L9 17L4 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <div>
                                    <strong>Quality Assured</strong>
                                    <span>Premium standards</span>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="action-buttons">
                            <form method="post" action="@Url.Action("AddToCart", "Cart")" style="display: contents;">
                                <input type="hidden" name="menuItemId" value="@Model.Id" />
                                <button type="submit" class="btn-primary" style="border: none; cursor: pointer;">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                        <circle cx="8" cy="17" r="1.5" stroke="currentColor" stroke-width="1.5"/>
                                        <circle cx="15" cy="17" r="1.5" stroke="currentColor" stroke-width="1.5"/>
                                        <path d="M1 2H4L6.68 11.5C6.77 11.84 6.98 12.12 7.29 12.28L14.5 15.5H5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M7 6H16C16.55 6 17 6.45 17 7V8C17 8.55 16.55 9 16 9H7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    <span>Add to Cart</span>
                                </button>
                            </form>
                            <a href="@Url.Action("Index", "Cart")" class="btn-primary" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <circle cx="8" cy="17" r="1.5" stroke="currentColor" stroke-width="1.5"/>
                                    <circle cx="15" cy="17" r="1.5" stroke="currentColor" stroke-width="1.5"/>
                                    <path d="M1 2H4L6.68 11.5C6.77 11.84 6.98 12.12 7.29 12.28L14.5 15.5H5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M7 6H16C16.55 6 17 6.45 17 7V8C17 8.55 16.55 9 16 9H7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span>View Cart</span>
                            </a>
                            <a href="@Url.Action("Index", "Menu")" class="btn-secondary">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <rect x="2" y="2" width="7" height="7" rx="1.5" stroke="currentColor" stroke-width="2"/>
                                    <rect x="11" y="2" width="7" height="7" rx="1.5" stroke="currentColor" stroke-width="2"/>
                                    <rect x="2" y="11" width="7" height="7" rx="1.5" stroke="currentColor" stroke-width="2"/>
                                    <rect x="11" y="11" width="7" height="7" rx="1.5" stroke="currentColor" stroke-width="2"/>
                                </svg>
                                <span>Browse Menu</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Additional Features -->
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                        <path d="M16 4L18 12L26 14L18 16L16 24L14 16L6 14L14 12L16 4Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h3 class="feature-title">Premium Quality</h3>
                <p class="feature-description">Every dish crafted with the finest ingredients and expert technique</p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                        <circle cx="16" cy="16" r="12" stroke="currentColor" stroke-width="2"/>
                        <path d="M16 8V16L20 20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <h3 class="feature-title">Quick Service</h3>
                <p class="feature-description">Fast preparation without compromising on quality or taste</p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                        <path d="M16 4C16 4 10 8 10 14C10 17.3137 12.6863 20 16 20C19.3137 20 22 17.3137 22 14C22 8 16 4 16 4Z" stroke="currentColor" stroke-width="2"/>
                        <path d="M8 22C8 22 4 24 4 28H28C28 24 24 22 24 22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <h3 class="feature-title">Chef Special</h3>
                <p class="feature-description">Prepared by our expert culinary team with passion and precision</p>
            </div>
        </div>
    </div>
</div>
